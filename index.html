<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Hydroion â€“ Project</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body {
  margin: 0;
  font-family: Arial, sans-serif;
  min-height: 200vh;
}

/* TOP BAR */
#topBar {
  position: fixed;
  top: 0;
  width: 100%;
  height: 60px;
  background: #111;
  color: white;
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0 30px;
  z-index: 1000;
}

#projectName {
  font-weight: bold;
}

#clock {
  font-family: monospace;
}

/* BOTTOM BAR */
#bottomBar {
  position: fixed;
  bottom: 0;
  width: 100%;
  height: 50px;
  background: #111;
  color: white;
  display: none;
  align-items: center;
  justify-content: center;
  z-index: 1000;
}

/* CONTENT */
#content {
  padding-top: 80px;
  padding-bottom: 80px;
  max-width: 800px;
  margin: auto;
}

/* LOGIN */
input {
  padding: 8px;
  margin: 5px 0;
  width: 100%;
}

button {
  padding: 8px;
  width: 100%;
  cursor: pointer;
}

/* COOKIE */
#cookieBox {
  position: fixed;
  bottom: 60px;
  left: 50%;
  transform: translateX(-50%);
  background: #222;
  color: white;
  padding: 15px;
  display: none;
  z-index: 2000;
}
</style>
</head>

<body>

<!-- TOP BAR -->
<div id="topBar">
  <div id="projectName">Hydroion</div>
  <div id="clock"></div>
</div>

<!-- BOTTOM BAR -->
<div id="bottomBar">
  horvath.barnus13@gmail.com
</div>

<!-- COOKIE -->
<div id="cookieBox">
  This website uses cookies.
  <br><br>
  <button onclick="acceptCookies()">Accept</button>
  <button onclick="rejectCookies()">Reject</button>
</div>

<!-- CONTENT -->
<div id="content">

<h1>Welcome to Hydroion</h1>
<p>This is a prototype website running on GitHub Pages.</p>

<hr>

<h2>Login</h2>
<input id="loginUser" placeholder="Username">
<input id="loginPass" type="password" placeholder="Password">
<button onclick="login()">Login</button>

<h2>Register</h2>
<input id="regUser" placeholder="Username">
<input id="regEmail" placeholder="Email">
<input id="regPass" type="password" placeholder="Password">
<button onclick="register()">Register</button>

<p id="status"></p>

</div>

<script>
/* CLOCK */
function updateClock() {
  const now = new Date();
  document.getElementById("clock").textContent =
    now.toLocaleTimeString();
}
setInterval(updateClock, 1000);
updateClock();

/* SCROLL LOGIC */
window.addEventListener("scroll", () => {
  const top = window.scrollY;
  const bottom =
    window.innerHeight + window.scrollY >= document.body.offsetHeight - 10;

  document.getElementById("topBar").style.display = top < 50 ? "flex" : "none";
  document.getElementById("bottomBar").style.display = bottom ? "flex" : "none";
});

/* COOKIES */
function acceptCookies() {
  localStorage.setItem("cookies", "accepted");
  document.getElementById("cookieBox").style.display = "none";
}
function rejectCookies() {
  localStorage.setItem("cookies", "rejected");
  document.getElementById("cookieBox").style.display = "none";
}
if (!localStorage.getItem("cookies")) {
  document.getElementById("cookieBox").style.display = "block";
}

/* AUTH */
function register() {
  const u = regUser.value;
  const e = regEmail.value;
  const p = regPass.value;
  if (!u || !p) return;
  localStorage.setItem("user_"+u, JSON.stringify({email:e, pass:p}));
  status.textContent = "Registered successfully.";
}

function login() {
  const u = loginUser.value;
  const p = loginPass.value;
  const data = localStorage.getItem("user_"+u);
  if (!data) return status.textContent = "User not found.";
  const obj = JSON.parse(data);
  if (obj.pass !== p) return status.textContent = "Wrong password.";
  localStorage.setItem("loggedIn", u);
  status.textContent = "Logged in.";
}

/* KEEP LOGIN */
if (localStorage.getItem("loggedIn")) {
  status.textContent = "Logged in as " + localStorage.getItem("loggedIn");
}
</script>

</body>
</html>
